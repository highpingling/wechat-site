<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>微信男友聊天</title>
  <style>
    /* 全局样式 */
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
      background-color: #ededed; /* 微信背景色 */
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh; /* 确保占据整个视口高度 */
    }

    .app {
      width: 100%;
      max-width: 600px; /* 模拟手机宽度，可调整 */
      height: 100vh; /* 确保在手机上铺满 */
      background-color: #f7f7f7; /* 聊天界面背景 */
      display: flex;
      flex-direction: column;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      overflow: hidden; /* 防止内容溢出 */
    }

    /* 顶部导航栏 */
    .header {
      background-color: #1a1a1a; /* 微信顶部深色 */
      color: #fff;
      padding: 10px 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 18px;
      font-weight: bold;
      position: sticky; /* 确保顶部导航栏固定 */
      top: 0;
      z-index: 1000;
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
    }

    .header .left, .header .right {
      width: 60px; /* 占位 */
      text-align: center;
      font-weight: normal;
      font-size: 14px;
    }

    .header .left {
        text-align: left;
    }

    .header .right {
        text-align: right;
    }

    .header .title {
      flex-grow: 1;
      text-align: center;
    }

    /* 聊天区域 */
    .chat-messages {
      flex-grow: 1;
      padding: 10px 15px;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch; /* 提高移动端滚动体验 */
      background-color: #ededed; /* 默认聊天背景色，将被壁纸覆盖 */
      background-size: cover; /* 背景图覆盖整个区域 */
      background-position: center; /* 背景图居中 */
      background-repeat: no-repeat; /* 不重复 */
    }

    /* 消息气泡容器 */
    .message {
      display: flex;
      margin-bottom: 15px;
      align-items: flex-start; /* 保持顶部对齐 */
      position: relative; /* 为内部的相对定位元素提供参考 */
    }

    .message.me {
      justify-content: flex-end; /* 我的消息靠右 */
    }

    .message.boyfriend {
      justify-content: flex-start; /* 男友消息靠左 */
    }

    .message-avatar {
      width: 40px; /* 固定宽度 */
      height: 40px; /* 固定高度 */
      border-radius: 5px;
      flex-shrink: 0; /* 防止头像被压缩 */
      object-fit: cover; /* 保持图片比例同时填充容器 */
    }

    .message.boyfriend .message-avatar {
      margin-right: 10px; /* 男友头像右侧留白 */
      margin-left: 0;
    }

    .message.me .message-avatar {
      margin-left: 10px; /* 我的头像左侧留白 */
      margin-right: 0;
      order: 2; /* 我的头像放在内容之后 */
    }

    /* 消息内容气泡 */
    .message-content {
      /* max-width 计算：100% - 头像宽度 - 头像到气泡的间隔 - 气泡到按钮的间隔 - 按钮宽度 (如果存在) - 消息左右内边距 */
      /* 假设头像40px, 间隔10px, 按钮宽度80px左右 (文字+内边距), 气泡左右padding 12px*2 */
      /* 注意：这里需要考虑flex布局下，剩余空间的分配，所以直接使用 max-width: 70% 或 calc 方式 */
      max-width: calc(100% - 40px - 10px - 10px - 80px - 24px); /* 重新计算，确保气泡有足够空间 */
      min-width:
